3.1 赋值和局部状态
========================

*3.1.1 局部状态变量*
------------------------

.. code-block:: scheme

  (define balance 100)

  (define (withdraw amount)
	(if (>= balance amount)
		(begin (set! balance (- balance amount))
			   balance)
		"Insufficient funds"))

::

  > balance
  100
  > (withdraw 25)
  75
  > (withdraw 25)
  50
  > (withdraw 60)
  "Insufficient funds"
  > (withdraw 15)
  35

.. code-block:: scheme

  (define new-withdraw
	(let ((balance 100))
	  (lambda (amount)
		(if (>= balance amount)
			(begin (set! balance (- balance amount))
				   balance)
			"Insufficient funde"))))
